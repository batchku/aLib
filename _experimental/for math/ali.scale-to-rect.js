outlets = 2;var verteces = new Array(4);var slope = new Array(4);var intercept = new Array(4);var xminout,yminout = -1;var xmaxout,ymaxout = 1;var have4verteces = 0;function hi(){	post("hi");}function range(xmin,xmax,ymin,ymax){	xminout=xmin;	xmaxout=xmax;	yminout=ymin;	ymaxout=ymax;	post("setting output ranges to: ",xminout,xmaxout,yminout,ymaxout,"\n");}function vertex(n,fx,fy){	// var list = arrayfromargs(argumetns);	verteces[n]=new Array(2);	verteces[n][0] = fx;	verteces[n][1] = fy;	// post("setting ",n," to: ", fx, fy, "\n");	if (verteces[0]&&verteces[1]&&verteces[2]&&verteces[3]) {		calc();		have4vertecies=1;		//post("calculating...");	}}function calc(){	slope[0]=(verteces[0][1]-verteces[1][1])/(verteces[0][0]-verteces[1][0]);	intercept[0]=verteces[0][1]-slope[0]*verteces[0][0];	slope[1]=(verteces[1][0]-verteces[2][0])/(verteces[1][1]-verteces[2][1]);	intercept[1]=verteces[1][0]-slope[1]*verteces[1][1];	slope[2]=(verteces[2][1]-verteces[3][1])/(verteces[2][0]-verteces[3][0]);	intercept[2]=verteces[2][1]-slope[2]*verteces[2][0];	slope[3]=(verteces[3][0]-verteces[0][0])/(verteces[3][1]-verteces[0][1]);	intercept[3]=verteces[3][0]-slope[3]*verteces[3][1];	}}function map(x,y){	ymin = slope[0]*x+intercept[0];	ymax = slope[2]*x+intercept[2];	xmin = slope[3]*y+intercept[3];	xmax = slope[1]*y+intercept[1];	outlet(0,scale(x,xmin,xmax,xminout,xmaxout),scale(y,ymin,ymax,yminout,ymaxout));}function scale(x,inmin, inmax,outmin,outmax){	var xout = (x-inmin)/(inmax-inmin)*(outmax-outmin)+outmin;	// post("here's the scaled: ", xout, "\n");	return xout;}