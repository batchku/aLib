max v2;#N vpatcher 10 42 1015 755;#N comlet all-vbap-info collection dump output;#P outlet 426 673 13 0;#N comlet vbap21;#P inlet 280 32 12 0;#P objectname 20vbap-inlet;#N comlet vbap22;#P inlet 293 32 12 0;#P objectname 21vbap-inlet;#N comlet vbap23;#P inlet 306 32 12 0;#P objectname 22vbap-inlet;#N comlet vbap24;#P inlet 319 32 12 0;#P objectname 23vbap-inlet;#P outlet 260 674 13 0;#P objectname 15vbap-outlet;#P outlet 244 674 13 0;#P objectname 14vbap-outlet;#P outlet 228 674 13 0;#P objectname 13vbap-outlet;#P outlet 212 674 13 0;#P objectname 12vbap-outlet;#P outlet 196 674 13 0;#P objectname 11vbap-outlet;#P outlet 180 674 13 0;#P objectname 10vbap-outlet;#P outlet 164 674 13 0;#P objectname 9vbap-outlet;#P outlet 148 674 13 0;#P objectname 8vbap-outlet;#P window setfont "Sans Serif" 9.;#N vpatcher 40 55 440 355;#P window setfont "Sans Serif" 9.;#P newex 67 132 65 196617 route symbol;#P newex 98 225 42 196617 zl rot 1;#P newex 98 203 35 196617 zl join;#P newex 147 132 65 196617 route symbol;#P outlet 98 251 15 0;#N coll $0vbap-all-info.coll 1;#P newobj 98 106 182 196617 coll $0vbap-all-info.coll 1;#P inlet 98 36 15 0;#P connect 1 0 6 0;#P connect 0 0 1 0;#P connect 6 0 4 0;#P connect 6 1 4 0;#P connect 4 0 5 0;#P connect 5 0 2 0;#P connect 3 1 4 1;#P connect 3 0 4 1;#P connect 1 1 3 0;#P pop;#P newobj 426 285 32 196617 p coll;#P objectname vbap-coll;#N vpatcher 40 55 440 355;#P window setfont "Sans Serif" 9.;#P newex 60 81 97 196617 s $0-myself;#P newex 60 60 130 196617 sprintf /vbap%d/display 1;#P inlet 60 36 15 0;#P connect 0 0 1 0;#P connect 1 0 2 0;#P pop;#P newobj 377 285 48 196617 p display;#P objectname vbap-display;#N vpatcher 40 55 773 627;#P window setfont "Sans Serif" 9.;#P message 387 272 41 196617 -45 45;#P button 194 219 15 0;#P newex 200 73 27 196617 t b l;#P message 75 123 52 196617 /init bang;#P newex 75 168 97 196617 s $0-myself;#P newex 565 185 27 196617 t b l;#P newex 582 405 108 196617 define_loudspeakers 3;#P newex 217 121 50 196617 route 2 3;#P message 284 272 85 196617 -45 45 135 -135;#P message 131 272 152 196617 -30 0 30 70 110 180 -110 -70;#P newex 272 308 113 196617 prepend ls-directions 2;#P newex 254 215 132 196617 route oct quad stereo other;#P inlet 200 29 15 0;#P newex 236 487 97 196617 s $0-myself;#P newex 236 466 105 196617 prepend /vbap*/vbap;#P objectname vbap-prepend;#P newex 236 405 108 196617 define_loudspeakers 2;#P connect 13 0 12 0;#P connect 12 0 11 0;#P connect 4 0 6 0;#P connect 8 0 14 0;#P connect 3 0 13 0;#P connect 13 1 8 0;#P connect 14 0 0 0;#P connect 5 0 0 0;#P fasten 4 3 0 0 517 268 517 315;#P fasten 4 4 0 0 545 267 545 339;#P connect 0 0 1 0;#P connect 9 0 1 0;#P connect 1 0 2 0;#P connect 8 0 4 0;#P connect 6 0 5 0;#P connect 7 0 5 0;#P connect 15 0 5 0;#P connect 4 1 7 0;#P connect 4 2 15 0;#P connect 8 1 10 0;#P connect 10 1 9 0;#P connect 10 0 9 0;#P pop;#P newobj 319 285 55 196617 p speakers;#P objectname vbap-define;#P newex 819 47 45 196617 loadbang;#N comlet vbap1;#P inlet 20 32 12 0;#P objectname 0vbap-inlet;#P newex 418 33 76 196617 r $0-myself;#P objectname vbap-myself;#P message 819 74 35 196617 $1 $2;#P message 862 75 23 196617 3 3;#N thispatcher;#Q end;#P newobj 819 124 59 196617 thispatcher;#N vpatcher 9 45 1014 758;#P window setfont "Sans Serif" 9.;#P newex 5 648 114 196617 s $0-myself;#P message 454 274 208 196617 script connect vbap-osc-route 4 vbap-coll 0;#P message 465 257 224 196617 script connect vbap-osc-route 3 vbap-display 0;#P newex 37 422 27 196617 t i i;#P newex 5 618 305 196617 sprintf /vbap%d/this-vbap $0vbap-all-info.coll %d;#P newex 241 417 27 196617 - 1;#P message 412 386 229 196617 script connect vbap-osc-route 0 vbap-matrix~ 0;#P message 545 171 223 196617 script connect vbap-myself 0 vbap-osc-route 0;#P newex 330 391 27 196617 - 1;#P newex 300 363 40 196617 uzi;#P newex 347 439 261 196617 sprintf script connect %dvbap-inlet 0 vbap-matrix~ %d;#P newex 244 439 102 196617 expr $i1 * 55 + 460;#P message 479 239 219 196617 script connect vbap-osc-route 2 vbap-define 0;#P message 528 189 232 196617 script connect vbap-osc-route 1 vbap-init-bang 0;#P outlet 849 681 15 0;#P inlet 332 39 15 0;#P newex 378 389 27 196617 - 1;#P newex 348 361 40 196617 uzi;#P newex 341 335 55 196617 unpack 1 1;#P newex 611 439 265 196617 sprintf script connect vbap-matrix~ %d %dvbap-outlet 0;#P newex 399 290 53 196617 t l b b l;#P newex 155 305 55 196617 unpack 1 1;#P newex 334 87 40 196617 t l l b;#P newex 15 545 128 196617 sprintf connect %d %d 0 0;#P newex 70 485 27 196617 + 4;#P newex 40 486 27 196617 + 1;#P newex 224 513 27 196617 - 1;#P newex 146 545 128 196617 sprintf connect 0 0 %d %d;#P newex 185 353 79 196617 t i i i i i i;#P newex 155 326 40 196617 uzi 3;#P message 593 94 335 196617 script new vbap-osc-route newex 400 100 400 196617 OSC-route /matrix~ /init /speakers /display /coll /vbap1 /vbap2 /vbap3 /vbap4 /vbap5 /vbap6 /vbap7 /vbap8 /vbap9 /vbap10 /vbap11 /vbap12 /vbap13 /vbap14 /vbap15 /vbap16 /vbap17 /vbap18 /vbap19 /vbap20;#P message 566 154 232 196617 script connect vbap-osc-inlet 0 vbap-osc-route 0;#P message 243 483 171 196617 newex \$1 428 50 196617 one-vbap;#P newex 455 340 370 196617 sprintf script new vbap-matrix~ newex 20 500 200 196617 matrix~ %d %d 1.;#P newex 849 656 105 196617 nothing;#P fasten 31 0 30 0 10 524;#P connect 30 0 34 0;#P connect 9 0 11 0;#P connect 6 0 31 0;#P connect 31 1 9 0;#P connect 6 1 10 0;#P connect 10 0 11 1;#P connect 6 2 7 0;#P connect 12 0 13 0;#P connect 13 0 5 0;#P connect 5 2 6 0;#P connect 6 3 8 0;#P connect 6 4 29 0;#P connect 23 0 2 0;#P connect 29 0 23 0;#P connect 8 0 7 1;#P connect 16 0 25 0;#P connect 31 0 30 1;#P connect 25 2 26 0;#P connect 19 0 12 0;#P connect 14 0 16 0;#P connect 26 0 24 0;#P connect 16 1 17 0;#P connect 17 2 18 0;#P connect 12 1 14 0;#P connect 14 1 28 0;#P connect 12 2 33 0;#P connect 14 3 1 0;#P connect 12 2 32 0;#P connect 12 2 22 0;#P connect 12 2 21 0;#P connect 12 2 27 0;#P connect 12 2 3 0;#P connect 12 2 4 0;#P connect 26 0 24 1;#P connect 18 0 15 0;#P connect 32 0 0 0;#P connect 2 0 0 0;#P connect 3 0 0 0;#P connect 4 0 0 0;#P connect 7 0 0 0;#P connect 11 0 0 0;#P connect 21 0 0 0;#P connect 22 0 0 0;#P connect 15 0 0 0;#P connect 24 0 0 0;#P connect 27 0 0 0;#P connect 28 0 0 0;#P connect 33 0 0 0;#P connect 1 0 0 0;#P connect 0 0 20 0;#P connect 18 0 15 1;#P pop;#P newobj 819 101 104 196617 p scripting-madnesss;#P outlet 20 674 13 0;#P objectname 0vbap-outlet;#P outlet 132 674 13 0;#P objectname 7vbap-outlet;#P outlet 116 674 13 0;#P objectname 6vbap-outlet;#P outlet 100 674 13 0;#P objectname 5vbap-outlet;#P outlet 84 674 13 0;#P objectname 4vbap-outlet;#P outlet 68 674 13 0;#P objectname 3vbap-outlet;#P outlet 52 674 13 0;#P objectname 2vbap-outlet;#P button 286 267 15 0;#P objectname vbap-init-bang;#N vpatcher 50 40 896 574;#P window setfont "Sans Serif" 9.;#P newex 259 265 102 196617 prepend /speakers 2;#P newex 200 146 29 196617 t b s;#P newex 167 109 68 196617 route symbol;#P message 180 207 123 196617 /vbap*/mtr/dur-mult 1.;#P newex 72 407 27 196617 b;#P newex 72 374 41 196617 delay 1;#P newex 72 321 27 196617 b;#P newex 72 288 41 196617 delay 1;#P newex 72 237 27 196617 b;#P newex 72 204 41 196617 delay 1;#P newex 136 150 40 196617 b 3;#P message 89 445 100 196617 /vbap*/spread 100;#P message 89 346 98 196617 /vbap*/elevation 0;#P message 89 264 92 196617 /vbap*/azimuth 0;#P message 153 178 101 196617 /matrix~ ramp 100.;#P newex 226 483 97 196617 s $0-myself;#P newex 524 343 128 196617 sprintf /vbap%d/spread 0;#P newex 380 343 140 196617 sprintf /vbap%d/azimuth %f;#P newex 422 180 27 196617 t l l;#P newex 422 227 33 196617 zl len;#P newex 422 252 40 196617 uzi;#P newex 452 283 40 196617 t i i i;#P newex 467 313 49 196617 listitem2;#P newex 422 148 41 196617 route 2;#P newex 422 118 93 196617 route ls-directions;#P inlet 136 82 15 0;#N coll init_vbap_n-to-n.coll 1;#T flags 1 0;#T 1 /matrix~ ramp 100.;#T 2 /vbap*/azimuth 0.;#T 3 /vbap*/elevation 0.;#T 4 /vbap*/spread 0.;#P newobj 325 483 132 196617 coll init_vbap_n-to-n.coll 1;#P comment 219 286 100 196617 note: there seems to be a bug the prevents sending all these messages "at once" (i.e. out of a collection) from working. dang.;#P connect 17 0 18 0;#P connect 18 0 19 0;#P connect 19 0 20 0;#P connect 20 0 21 0;#P connect 21 0 22 0;#P connect 22 0 23 0;#P connect 19 1 14 0;#P connect 21 1 15 0;#P connect 23 1 16 0;#P fasten 26 0 17 0 156 129;#P connect 25 1 17 0;#P connect 17 1 13 0;#P connect 2 0 25 0;#P connect 17 2 24 0;#P connect 25 0 26 0;#P connect 27 0 12 0;#P connect 24 0 12 0;#P connect 13 0 12 0;#P connect 14 0 12 0;#P connect 15 0 12 0;#P connect 16 0 12 0;#P connect 26 1 27 0;#P connect 6 0 10 0;#P connect 3 0 4 0;#P connect 4 0 9 0;#P connect 9 0 8 0;#P connect 8 0 7 0;#P connect 7 2 6 0;#P connect 6 1 5 0;#P connect 9 1 5 1;#P connect 5 0 10 1;#P connect 6 2 11 0;#P pop;#P newobj 286 285 31 196617 p init;#P objectname vbap-init;#N comlet OSC stuff;#P inlet 400 33 15 0;#P objectname vbap-osc-inlet;#P outlet 36 674 13 0;#P objectname 1vbap-outlet;#N comlet vbap2;#P inlet 33 32 12 0;#P objectname 1vbap-inlet;#N comlet vbap3;#P inlet 46 32 12 0;#P objectname 2vbap-inlet;#N comlet vbap4;#P inlet 59 32 12 0;#P objectname 3vbap-inlet;#N comlet vbap5;#P inlet 72 32 12 0;#P objectname 4vbap-inlet;#N comlet vba6;#P inlet 85 32 12 0;#P objectname 5vbap-inlet;#N comlet vbap7;#P inlet 98 32 12 0;#P objectname 6vbap-inlet;#N comlet vbap8;#P inlet 111 32 12 0;#P objectname 7vbap-inlet;#N comlet vbap9;#P inlet 124 32 12 0;#P objectname 8vbap-inlet;#N comlet vbap10;#P inlet 137 32 12 0;#P objectname 9vbap-inlet;#N comlet vbap11;#P inlet 150 32 12 0;#P objectname 10vbap-inlet;#N comlet vbap12;#P inlet 163 32 12 0;#P objectname 11vbap-inlet;#N comlet vbap13;#P inlet 176 32 12 0;#P objectname 12vbap-inlet;#N comlet vbap14;#P inlet 189 32 12 0;#P objectname 13vbap-inlet;#N comlet vbap15;#P inlet 202 32 12 0;#P objectname 14vbap-inlet;#N comlet vbap16;#P inlet 215 32 12 0;#P objectname 15vbap-inlet;#N comlet vbap17;#P inlet 228 32 12 0;#P objectname 16vbap-inlet;#N comlet vbap18;#P inlet 241 32 12 0;#P objectname 17vbap-inlet;#N comlet vbap19;#P inlet 254 32 12 0;#P objectname 18vbap-inlet;#N comlet vbap20;#P inlet 267 32 12 0;#P objectname 19vbap-inlet;#P connect 22 0 21 0;#P connect 39 0 52 0;#P connect 36 0 33 0;#P connect 33 0 30 0;#P connect 32 0 30 0;#P connect 30 0 31 0;#P pop;